<!DOCTYPE html>
<html lang="mg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Sekoly Baiboly</title>
    <meta name="description" content="Fampianarana Baiboly fototra">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon-192.png" type="image/png">

    <script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('pwabuilder-sw.js')
            .then(reg => console.log('Service Worker registered:', reg.scope))
            .catch(err => console.log('Service Worker failed:', err));
        });
    }
    </script>

    <style>
        /* Reset de base */
        * { margin:0; padding:0; box-sizing:border-box; }

        :root {
            --primary:#2C5F7C;
            --secondary:#E8A55C;
            --accent:#8B4513;
            --bg-light:#F5F5F0;
            --text-dark:#2C3E50;
            --text-light:#666;
            --border:#DDD;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-light);
            color: var(--text-dark);
            line-height:1.6;
            overflow-x:hidden;
        }

        .header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color:white;
            padding:15px 10px;
            text-align:center;
            position: sticky;
            top:0;
            z-index:100;
        }

        .header h1 { font-size:22px; margin-bottom:5px; }
        .header p { font-size:14px; opacity:0.9; }

        .search-container {
            padding:10px;
            background:white;
        }

        .search-box {
            width:100%;
            padding:10px 15px;
            border:2px solid var(--border);
            border-radius:25px;
            font-size:16px;
        }

        .container {
            padding:10px;
            max-width:1000px;
            margin:0 auto;
        }

        .chapter-card {
            background:white;
            border-radius:10px;
            margin-bottom:12px;
            box-shadow:0 2px 6px rgba(0,0,0,0.08);
        }

        .chapter-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color:white;
            padding:12px 15px;
            cursor:pointer;
            display:flex;
            justify-content:space-between;
            align-items:center;
        }

        .chapter-number {
            background: rgba(255,255,255,0.2);
            padding:4px 10px;
            border-radius:20px;
            font-size:13px;
        }

        .chapter-title { flex:1; margin:0 10px; font-size:15px; font-weight:600; }
        .chapter-icon { font-size:18px; transition: transform 0.3s; }
        .chapter-icon.expanded { transform: rotate(180deg); }

        .chapter-content {
            padding:15px;
            display:none;
            background:#FAFAFA;
        }
        .chapter-content.active { display:block; }

        .section {
            margin-bottom:12px;
            padding:10px;
            background:white;
            border-radius:6px;
            border-left:4px solid var(--secondary);
        }

        .section-title { color:var(--primary); font-size:16px; font-weight:600; margin-bottom:5px; display:flex; align-items:center; }
        .section-title::before { content:"üìñ"; margin-right:5px; }
        .verse { background:#F0F7FF; padding:8px; border-left:3px solid var(--primary); font-style:italic; margin-top:5px; border-radius:4px; }
        .verse-ref { color:var(--accent); font-weight:bold; display:block; font-style:normal; margin-top:3px; }

        .bottom-nav {
            position: fixed;
            bottom:0;
            left:0;
            right:0;
            background:white;
            display:flex;
            justify-content:space-around;
            padding:8px 0;
            box-shadow:0 -2px 8px rgba(0,0,0,0.1);
        }
        .nav-item { flex:1; text-align:center; color:var(--text-light); font-size:12px; text-decoration:none; }
        .nav-item.active { color:var(--primary); }
        .nav-icon { font-size:20px; display:block; margin-bottom:2px; }

        .loading { text-align:center; padding:30px; }
        .spinner { border:3px solid var(--border); border-top:3px solid var(--primary); border-radius:50%; width:30px; height:30px; animation:spin 1s linear infinite; margin:0 auto; }
        @keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }

        /* Responsive */
        @media(max-width:600px) {
            .header h1 { font-size:20px; }
            .chapter-title { font-size:14px; }
            .section-title { font-size:15px; }
        }

        /* Impression */
        @media print {
            .header, .search-container, .bottom-nav { display:none; }
            .chapter-content { display:block !important; }
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>üìö Sekoly Baiboly</h1>
        <p>Fampianarana ny Tenin'Andriamanitra</p>
    </div>

    <div class="search-container">
        <input type="text" id="searchInput" class="search-box" placeholder="üîç Hitady lesona na andininy...">
    </div>

    <div class="container" id="content">
        <div class="loading">
            <div class="spinner"></div>
            <p>Manatrika...</p>
        </div>
    </div>

    <div class="bottom-nav">
        <a href="#" class="nav-item active" data-view="all">
            <span class="nav-icon">üìñ</span>
            <span>Rehetra</span>
        </a>
        <a href="#" class="nav-item" data-view="favorites">
            <span class="nav-icon">‚≠ê</span>
            <span>Ankafiziko</span>
        </a>
        <a href="#" class="nav-item" data-view="notes">
            <span class="nav-icon">üìù</span>
            <span>Fanamarihana</span>
        </a>
        <a href="#" class="nav-item" data-view="about">
            <span class="nav-icon">‚ÑπÔ∏è</span>
            <span>Mombamomba</span>
        </a>
    </div>

    <script>
        // Ici tu peux coller ton tableau "chapters" et les fonctions renderContent, toggleChapter, toggleFavorite, etc.
        // Je peux te le r√©√©crire optimis√© si tu veux.
    </script>

</body>
</html>
